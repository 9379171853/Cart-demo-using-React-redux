(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(t,e,r){t.exports=r(29)},21:function(t,e,r){},28:function(t,e,r){},29:function(t,e,r){"use strict";r.r(e);var n=r(0),c=r.n(n),a=r(9),o=r.n(a),i=(r(21),r(3)),l=r(4),u=r(7),s=r(6),f=r(1),m=r(5),p=function(t){return"$"+Number(t.toFixed(1)).toLocaleString()+" "},d=r(2),h=function(t,e){return function(r){var n=t.slice(),c=!1;n.forEach(function(t){t.id===e.id&&(t.count+=1,c=!0)}),c||n.push(Object(d.a)({},e,{count:1})),localStorage.setItem("cartItems",JSON.stringify(n)),r({type:"ADD_TO_CART",payload:{cartItems:n}})}};function v(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var c=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var E=function(t){Object(u.a)(r,t);var e=v(r);function r(){return Object(i.a)(this,r),e.apply(this,arguments)}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchProducts()}},{key:"render",value:function(){var t=this,e=this.props.products.map(function(e){return c.a.createElement("div",{className:"col-md-4",key:e.id},c.a.createElement("div",{className:"thumbnail text-center"},c.a.createElement("a",{href:"#".concat(e.id),onClick:function(r){return t.props.addToCart(t.props.cartItems,e)}},c.a.createElement("img",{src:"".concat(e.sku),alt:e.title}),c.a.createElement("p",null,e.title)),c.a.createElement("b",null,p(e.price)),c.a.createElement("button",{className:"btn btn-primary",onClick:function(r){return t.props.addToCart(t.props.cartItems,e)}},"Add to cart")))});return c.a.createElement("div",{className:"row"},e)}}]),r}(n.Component),y=Object(m.b)(function(t){return{products:t.products.filteredItems,cartItems:t.cart.items}},{fetchProducts:function(){return function(t){fetch("http://localhost:8000/products").then(function(t){return t.json()}).catch(function(t){return fetch("db.json").then(function(t){return t.json()}).then(function(t){return t.products})}).then(function(e){t({type:"FETCH_PRODUCTS",payload:e})})}},addToCart:h})(E);function b(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var c=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var O=function(t){Object(u.a)(r,t);var e=b(r);function r(){return Object(i.a)(this,r),e.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){var t=this;return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-4"},"".concat(this.props.filteredProducts.length," products found.")),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("label",null,"Order by",c.a.createElement("select",{className:"form-control",value:this.props.sort,onChange:function(e){t.props.sortProducts(t.props.filteredProducts,e.target.value)}},c.a.createElement("option",{value:""},"Select"),c.a.createElement("option",{value:"lowestprice"},"Lowest to highest"),c.a.createElement("option",{value:"highestprice"},"Highest to lowest")))),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("label",null," ","Filter Size",c.a.createElement("select",{className:"form-control",value:this.props.size,onChange:function(e){t.props.filterProducts(t.props.products,e.target.value)}},c.a.createElement("option",{value:""},"ALL"),c.a.createElement("option",{value:"x"},"Large"),c.a.createElement("option",{value:"s"},"Medium"),c.a.createElement("option",{value:"m"},"Small")))))}}]),r}(n.Component),R=Object(m.b)(function(t){return{products:t.products.items,filteredProducts:t.products.filteredItems,size:t.products.size,sort:t.products.sort}},{filterProducts:function(t,e){return function(r){r({type:"FILTER_PRODUCTS_BY_SIZE",payload:{size:e,items:""===e?t:t.filter(function(t){return t.availableSizes.indexOf(e.toUpperCase())>=0})}})}},sortProducts:function(t,e){return function(r){var n=t.slice();""!==e?n.sort(function(t,r){return"lowestprice"===e?t.price>r.price?1:-1:t.price<r.price?1:-1}):n.sort(function(t,e){return t.id>e.id?1:-1}),r({type:"ORDER_PRODUCTS_BY_PRICE",payload:{sort:e,items:n}})}}})(O);function g(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var c=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var j=function(t){Object(u.a)(r,t);var e=g(r);function r(){return Object(i.a)(this,r),e.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){var t=this,e=this.props.cartItems;return c.a.createElement("div",{className:"alert alert-info"},0===e.length?"Basket is empty":c.a.createElement("div",null,"You have ",e.length," items in the basket. ",c.a.createElement("hr",null)),e.length>0&&c.a.createElement("div",null,c.a.createElement("ul",{style:{marginLeft:-25}},e.map(function(e){return c.a.createElement("li",{key:e.id},c.a.createElement("b",null,e.title),c.a.createElement("button",{style:{float:"right"},className:"btn btn-danger btn-xs",onClick:function(r){return t.props.removeFromCart(t.props.cartItems,e)}},"X"),c.a.createElement("br",null),e.count," X ",p(e.price))})),c.a.createElement("b",null,"Sum:"," ",p(e.reduce(function(t,e){return t+e.price*e.count},0))),c.a.createElement("button",{onClick:function(){return alert("checkout")},className:"btn btn-primary"},"checkout")))}}]),r}(n.Component),C=Object(m.b)(function(t){return{cartItems:t.cart.items}},{addToCart:h,removeFromCart:function(t,e){return function(r){var n=t.slice().filter(function(t){return t.id!==e.id});localStorage.setItem("cartItems",JSON.stringify(n)),r({type:"REMOVE_FROM_CART",payload:{cartItems:n}})}}})(j),I=r(8),S=r(15),_={items:[],filteredItems:[],size:"",sort:""},w=Object(I.c)({products:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCH_PRODUCTS":return Object(d.a)({},t,{items:e.payload,filteredItems:e.payload});case"FILTER_PRODUCTS_BY_SIZE":return Object(d.a)({},t,{filteredItems:e.payload.items,size:e.payload.size});case"ORDER_PRODUCTS_BY_PRICE":return Object(d.a)({},t,{filteredItems:e.payload.items,sort:e.payload.sort});default:return t}},cart:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_TO_CART":case"REMOVE_FROM_CART":return Object(d.a)({},t,{items:e.payload.cartItems});default:return t}}}),D={cart:{items:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[]}},N=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||I.d,P=Object(I.e)(w,D,N(Object(I.a)(S.a)));r(28);function T(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var c=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var k=function(t){Object(u.a)(r,t);var e=T(r);function r(){return Object(i.a)(this,r),e.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){return c.a.createElement(m.a,{store:P},c.a.createElement("div",{className:"container"},c.a.createElement("h1",null,"E-commerce Shopping Cart Application"),c.a.createElement("hr",null),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-9"},c.a.createElement(R,null),c.a.createElement("hr",null),c.a.createElement(y,null)),c.a.createElement("div",{className:"col-md-3"},c.a.createElement(C,null)))))}}]),r}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[16,1,2]]]);
//# sourceMappingURL=main.6a4e13ee.chunk.js.map